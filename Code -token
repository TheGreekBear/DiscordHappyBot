import discord 
import os 
import time
import random
import json
import requests
from discord.ext import commands

client = discord.Client()
sad_words = ["sad", "depressed", "unhappy", "angry", "miserable"]
starter_encouragements = [
  "Cheer up!",
  "Cheer up!",
  "Hang in there.",
  "Hang in there.",
  "You are a great person / bot!",
  "You are a great person / bot!",
  "Your mother loves you",
  "Your mother loves you",
  "At least one person has thought of you",
  "At least one person has thought of you",
  "Heinrich Himmler would be proud of you"

]
starter_calmers = [
  "Maintain control",
  "Getting angry is just a waste of energy",
  "Resolve the argument calmly",
  "Try to be patient",
  "Breathe slowly"
]

starter_happy = [
  "enjoy your bliss",
  "joy is ephemeral",
  "do not pursue material possesions",
  "Help others",
  "Be kind to your neighbour"
]

def get_quote():
  response = requests.get("https://zenquotes.io/api/random")
  json_data = json.loads(response.text)
  quote = json_data[0]['q'] + " -" + json_data[0]['a']
  return(quote)

async def on_message(message):
  if message.author == client.user:
    return

  msg = message.content

    
  if any(word in msg for word in sad_words):
    await message.channel.send(random.choice(starter_encouragements))



@client.event
async def on_ready():
  await client.change_presence(status=discord.Status.idle, activity = discord.Game('$help'))
  print('We have logged in as {0.user}'.format(client))

@client.event
async def on_message(message):
  if message.author == client:
    return
  
  if message.content.startswith('$sad'):
    SAYOU = random.randint(1,2)
    #time.sleep(0)
    if SAYOU == (1):
      quote = get_quote()
      await message.channel.send(quote)
    else:
      await message.channel.send(random.choice(starter_encouragements))
  
  if message.content.startswith('$angry'):
    await message.channel.send(random.choice(starter_calmers))

  if message.content.startswith('$horny'):
    await message.channel.send('no, go play csgo, reject your horniness')
  
  if message.content.startswith('$happy'):
    await message.channel.send(random.choice(starter_happy))
  
  if message.content.startswith('$help'):
    await message.channel.send('type "$sad","$happy","$angry" or "ʰᵒʳⁿʸ" for help')

client.run(os.getenv('TOKEN'))
